{% extends "_base.html" %}
{% load humanize %}
{% load static %}

{% block css %}
  <style>
    td.number {
      width: 48px;
      padding-right: 0;
    }

    .indicator-number {
      background-color: #144d58;
      color: #fff !important;
      padding: 0 .5rem;
      border-radius: .25rem;
      display: inline-block;
      font-weight: bold;
    }

    .link {
      fill: none;
    }

    .sankey-link.green {
      stroke: green;
    }

    .sankey-link.gold {
      stroke: gold;
    }

    .sankey-link.red {
      stroke: red;
    }

    .sankey-link.blue {
      stroke: blue;
    }

    #chart path.hover {
      opacity: 1 !important;
      stroke-opacity: 1 !important;
    }

    #chart text {
      pointer-events: none;
    }

    .indicators {
      font-size: .875rem;
    }

    .indicators .list-group-item {
      padding: .5rem .25rem;
      /*cursor: grabbing;*/
    }

/*    .indicators .list-group-item:hover {
      background-color: #efefef;
    }
*/
    .indicator-table tbody tr:first-of-type td {
      border-top: none;
    }

    iframe {
      width: 100%;
      height: 500px;
      margin-bottom: 2rem;
      border: none;
    }


    /* new start */
    #oneliner {
    }

    #uca-sankey-1 {
      height: 100%;
      width: 600px;
    }

    @media (min-width: 1500px) {
      .container.main-content {
          max-width: 1400px;
      }
    }

    *[data-year="{{ sankey_2_year }}"] {
      display: none;
    }

    .text-transparent {
      color: transparent;
    }

    .context-map {
      height: 285px;
      width: 100%;
    }

    .legend-item {
      line-height: 24px;
    }

    .legend-block {
      display: inline-block;
      height: 24px;
      width: 24px;
      border-radius: 4px;
      vertical-align: middle;
    }
  </style>

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
     integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
     crossorigin=""/>
{% endblock %}

{% block content %}

{% if not uca %}<h1>{{ city }}</h1>{% endif %}

{% if uca %}
  <section>
    <div id="oneliner" class="d-inline-block border shadow-sm bg-white p-4 mb-4">
      <h1 class="m-0">{{ city }} is {{ oneliner }}</h2>
    </div>

    <div class="row mb-4">
      <div class="col-lg-9">
        <div class="border bg-white">
          <small class="ml-1 mt-1">Hover over sankey flows to see more details. Values given in kilotonnes.</small>
          <div data-year="{{ sankey_1_year }}" id="uca-sankey-1" class="plotly-graph-div" style="height:100%; width:100%; min-height: 450px;"></div>
          <div data-year="{{ sankey_2_year }}" id="uca-sankey-2" class="plotly-graph-div" style="height:100%; width:100%; min-height: 450px;"></div>
          <div class="text-center mb-2">
            <span class="legend-item mr-3"><div class="legend-block" style="background-color: #9bba8e"></div> Biomass</span>
            <span class="legend-item mr-3"><div class="legend-block" style="background-color: #f8e098"></div> Metal ores (gross ores)</span>
            <span class="legend-item mr-3"><div class="legend-block" style="background-color: #efb2b2"></div> Non-metallic minerals</span>
            <span class="legend-item"><div class="legend-block" style="background-color: #c6bde1"></div> Fossil energy materials/carriers</span>
          </div>
        </div>
      </div>
      <div class="col-lg-3">
        <select id="sankey-toggle" class="custom-select mb-4">
          <option value="{{ sankey_1_year }}" selected>{{ sankey_1_year }}</option>
          <option value="{{ sankey_2_year }}">{{ sankey_2_year }}</option>
        </select>
        <ul class="list-group list-group-flush indicators">
          <li class="list-group-item d-flex justify-content-between align-items-center">
            <span><i class="fa fa-fw fa-arrow-alt-to-right mr-2"></i> Input circularity <i class="fa fa-info-circle ml-1" data-toggle="popover" data-trigger="hover" title="Input circularity" data-content="Calculated by dividing the secondary materials by the processed materials"></i></span>
            <span data-year="{{ sankey_1_year }}">{{ input_circularity_year_1|intcomma }}%</span>
            <span data-year="{{ sankey_2_year }}">{{ input_circularity_year_2|intcomma }}%</span>
          </li>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            <span><i class="fa fa-fw fa-arrow-alt-from-left mr-2"></i> Output circularity <i class="fa fa-info-circle ml-1" data-toggle="popover" data-trigger="hover" title="Output circularity" data-content="Calculated by dividing the secondary materials by the End-of-Life waste"></i></span>
            <span data-year="{{ sankey_1_year }}">{{ output_circularity_year_1|intcomma }}%</span>
            <span data-year="{{ sankey_2_year }}">{{ output_circularity_year_2|intcomma }}%</span>
          </li>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            <span><i class="fa fa-fw fa-wrench mr-2"></i> Processed materials</span>
            <span data-year="{{ sankey_1_year }}">{{ processed_materials_year_1|intcomma }} tonnes/year</span>
            <span data-year="{{ sankey_2_year }}">{{ processed_materials_year_2|intcomma }} tonnes/year</span>
          </li>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            <span><i class="fa fa-fw fa-trash mr-2"></i> End of Life (EoL) waste</span>
            <span data-year="{{ sankey_1_year }}">{{ end_of_life_waste_year_1|intcomma }} tonnes/year</span>
            <span data-year="{{ sankey_2_year }}">{{ end_of_life_waste_year_2|intcomma}} tonnes/year</span>
          </li>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            <span><i class="fa fa-fw fa-recycle mr-2"></i> Secondary materials <i class="fa fa-info-circle ml-1" data-toggle="popover" data-trigger="hover" title="Secondary materials" data-content="End-of-Life waste materials (from recycling and backfilling) that go back to processed materials or to export"></i></span>
            <span data-year="{{ sankey_1_year }}">{{ secondary_materials_year_1|intcomma }} tonnes/year</span>
            <span data-year="{{ sankey_2_year }}">{{ secondary_materials_year_2|intcomma }} tonnes/year</span>
          </li>
        </ul>
      </div>
    </div>

    <div class="row mb-4">
      <div class="col-lg-9">
        {% if slug == "apeldoorn" %}
          <p>The Dutch municipality, located in the province of Gelderland has a population of 166,306 people that are spread over an area of 341.15 km2. Its local economy is mainly based on "Health and Welfare care" (17.8%), "Trade" (14.5%) and "Public Administration, and Government services" (12.7%) economic activities in terms of employees.</p>

          <p>It was possible to illustrate that Apeldoorn is a linear and carbon-rich city (90-95% linear), processing yearly approximately 650 kt of materials, adding 13 kt in the building stock and reinjecting just 4 kt of secondary materials in their economy. From these numbers, the magnitude of the efforts becomes visible. In addition, the "weight" of Apeldoorn can be illustrated through its building stock which amounts to 15,000 kt (or 95 t per capita), which requires continuous flows for both its operation and construction.

          <p>Given the land use of Apeldoorn (78% covered by vegetation), this provides a considerable opportunity to develop a circular bioeconomy. For instance, a significant share of biomass demands of Apeldoorn could be covered by local production of food. In addition, a part of this biomass could be used for energetic use, reducing the demand of imports and partly GHG emissions.</p>
        {% elif slug == "bodo" %}
          <p>Bodø has a population of 52,803 people, which are spread over an area of 1,396 km2. Currently, its local economy is mainly based on "Health & Social Work activities" (26.2%), "Wholesale and retail trade" (12.8%), and "Education" (10.13%) in terms of employees.</p>

          <p>It was possible to illustrate that Bodø is a linear and carbon-rich city (90% linear), processing yearly approximately 360 kt of materials, adding 211 kt in the building stock and reinjecting just 20 kt of secondary materials in their economy. From these numbers, the magnitude of the efforts becomes visible. In addition, the "weight" of Bodø can be illustrated through its building stock which amounts to 4,500 kt (or 86 tonnes per capita), which requires continuous flows for both its operation and construction.</p>

          <p>Given the land use of Bodø and its local activities, this provides a considerable opportunity to develop a circular bioeconomy. For instance, a significant share of GHG emissions associated with food consumption of Bodø could be reduced by covering animal proteins with local production of food (especially proteins coming from fish). Fish waste could be used for fertilisers or for creating new products. In addition, a part of this biomass (wood) could be used for energetic use reducing the demand of imports and partly GHG emissions. In addition, given the demand for new construction materials needed for the future urban development, local hubs for storing materials for reuse from the construction sector could significantly reduce the use of virgin materials as well as reduce construction and demolition waste generation. Finally, local materials (rammed earth, biomass insulation, timber, etc.) could be used to drastically reduce the amount of concrete (which is carbon intensive) for future urban developments. In addition, the production of local and low carbon construction materials, could develop new jobs and attract the development of new production activities.</p>
        {% elif slug == "mikkeli" %}
          <p>The most significant employment sectors in Mikkeli are human health and social work activities (23%), manufacturing (12%) and wholesale and retail trade; repair of motor vehicles and motorcycles (10%). The construction sector employs 6% of employees in Mikkeli, which is at the same level as the corresponding percentage for the whole country (7%).</p>

          <p>By applying the developed method, it is possible to illustrate that Mikkeli is a linear and carbon-rich city (90-95% linear), processing yearly approximately 1,300 kt of materials, adding 10-20 kt in the building stock and recycling just 4 kt of secondary materials in their economy. From these numbers, the magnitude of the efforts becomes visible. In addition, the "weight" of Mikkeli can be illustrated through its building stock which amounts to 15,000 kt (or 290 t per capita), which requires continuous flows for both its operation and construction. However most of its materials consumption is of its own extraction, so very little material is imported or exported. Most of the imported materials are of fossil energy carriers (84%) when exports are mainly of biomass materials (71%) such as timber, wood based materials and cereals. Domestic material consumption is high, which indicates city-self-sufficiency and therefore less GHG emissions through the need of material transportations.</p>
        {% elif slug == "porto" %}
          <p>Porto has a high urban density with 232,753 inhabitants spreading over 41 km2, it is the second most dense municipality in Portugal in terms of population as well as businesses. Its local economy is mainly based on "wholesale and retail trade" (17%), "accommodation and food service activities" (16%) and "professional, scientific and technical activities" (13%) in terms of number of employees, in 2019.</p>

          <p>It was possible to illustrate that Porto is a linear and carbon-rich city, processing yearly around 856 kt of materials, adding 201 kt of additional stock (buildings, infrastructures, and durable goods) and reinjecting 54 kt in their economy. The results also shows that Porto has a high ecological cycling rates potentials (74%) that makes it an opportunity to move forward to achieve circular economy through circular bioeconomy strategies. In addition, the material stock assessment (MSA) illustrates the weight of Porto, whose building stock amounts to 28,000 kt (or around 130 t per capita).</p>
        {% elif slug == "sevilla" %}
          <p>Sevilla needs some 3,259 kt of raw materials and other materials annually. The main entry point are imports, as local production is quite limited (607 kt). At internal urban circuit, it processes 1,750 kt in materials, of which 375 kt are added to the stock of buildings and urban equipment and the rest are destined for domestic consumption in the city. It manages to reinject 174 kt of secondary materials recovered from waste into its economic circuit.</p>
        {% endif %}
      </div>
    </div>

    {% if slug == "apeldoorn" or slug == "bodo" or slug == "porto" %}
      <h3>Material stock map</h3>
    {% endif %}
    {% if slug == "apeldoorn" %}
      <iframe class="border mb-4" src="https://gcp-europe-west1.app.carto.com/map/c087a313-2dcc-4327-983f-651f90f2cd5c" onload="resizeIframe(this)"></iframe>
    {% elif slug == "bodo" %}
      <iframe class="border mb-4" src="https://pinea.app.carto.com/map/e0a43829-cb21-4069-add1-829ca5ceca21" onload="resizeIframe(this)"></iframe>
    {% elif slug == "porto" %}
      <img class="border mb-4" src="https://cityloops.metabolismofcities.org/media/records/mapofbuilding.png">
    {% endif %}
  </section>
{% endif %}

{% if city.slug == "roskilde" or city.slug == "hoje-taastrup" %}
  <div class="row">
    <div class="col-lg-9">
      <p class="font-italic">
        The City of {{ city }} presents information from their Sector-wide Circularity Assessment of the construction sector. Since it did not conduct an Urban Circularity Assessment, those elements are not given.
      </p>
    </div>
  </div>
{% endif %}

{% if construction %}
  <section>
    <h2>Construction sector</h2>
    <div class="row">
      <div class="col-lg-9">
        <div class="border bg-white mb-4">
          {{ construction_sankey|safe }}
        </div>

        {% if slug == "apeldoorn" %}
          <p>The municipality of Apeldoorn has a binding contract with a single concrete processor/provider, located in Nijmegen. For demolishing, the realisation of pathways, roads, etc. or other infrastructural projects there is a multitude of contractors both situated inside and outside of Apeldoorn, any of which will be selected through procurement.</p>
          <p>Apeldoorn has its own land bank, providing contractors with soil/sand if necessary. Contractors will need to acquire concrete through Apeldoorn's concrete processor, other materials can be freely imported. Reuse/recycle requirements per project are defined by Apeldoorn's procurement officers, this is specified in e.g. tonnes of concrete/asphalt that needs to be made from recycles materials. Responsibility of further recycling/reuse of materials is put in the hands of the contractors themselves. While steps have already been taken to ensure a certain reuse/recycling minimum, there is a demand for upcycling methods of CDW materials into higher-value products, which could prove to be a more efficient reuse method.</p>
        {% elif slug == "bodo" %}
          <p>It can be summarised that the construction sector in Bodø is quite small compared to the national average. The most number of employees are engaged in building construction, followed by renovation and interior activities. A few actors are regionally and nationally important as well. The largest local companies in the municipality have been established for well over 30 years and have consistently contributed to the development of Bodø, as well as Northern Norway in some cases.</p>
          <p>Bodø heavily relies on imports as there is no extraction occurring in its jurisdiction and little circularity in the building material value chain. Apart from direct reuse of lightly contaminated and uncontaminated concrete, and the recycling of recovered insulation, the material flows in the industry are quite linear. The rate of landfilling is quite high and overall, the municipality of Bodø still has a long way to go to make the material flows of their construction sector circular.</p>
        {% elif slug == "hoje-taastrup" %}
          <p>It can be summarised that the construction sector plays an important economic role in the municipality. Various actors and industries are represented here, including some national and international companies. Many of the local companies have been in the municipality for well over 50 years and consistently brought business to and made available job positions in the region.</p>
          <p>It was seen that the area is also well suited for extraction of sand and gravel due to its geological history. Since not all of the materials are needed locally, a lot of those are exported.</p>
          <p>The current situation of the construction sector with regards to its circularity is hard to determine due to limitations in data availability and quality. The direct reuse of materials is quite low and while the amount of waste subjected to recycling is high, the recycling efficiency is not known, which would help in determining the amount of secondary materials available. It is, however, already commendable that there is a focus on waste sorting, though mostly in the interest of removing hazardous substances from the waste stream and recycling non-hazardous materials lower on the waste hierarchy than where they started.</p>
          <p>Overall, the municipality still has a long way to go to make the material flows of their construction sector more circular.</p>
        {% elif slug == "mikkeli" %}
          <p>As a conclusion, there are lot of manufacture of timber and concrete products in Mikkeli and considerable parts of these are exported outside of the area. There are also lot of forests in Mikkeli and nearby areas, so raw wood is obtained from very close proximities. Virgin sand & gravel and stone material is also easily available for concrete manufacturing and for construction of roads and buildings. However, other construction materials like metals, gypsum, bricks and insulation materials are imported to Mikkeli.</p>
          <p>According to the calculation illustrated in Sankey diagram, approximately 300,000 tonnes of construction and demolition waste are collected from extraction, manufacturing and use lifecycle stages, which could be potentially circulated in the city. There are many circular flows in the city but when looking at the whole picture, the flows are quite small in mass. On the other hand, all the data related to CDW collection and treatment is not currently available. Even 80 % of CDW collected by the most important actor, municipal waste management company Metsäsairila Ltd is recycled, mostly on the road and landfill structures. Metal waste is exported to recycling and timber waste is exported to incineration and energy recovery. The greatest potential for developing circular economy of construction sector in the city is to utilise materials collected as waste in upcycled higher-value products, which could replace virgin materials in the construction sector.</p>
          <p>There are still many assumptions behind the distribution of material flows visualised in the Sankey diagram. In the future, the information may be updated based on possible new and more detailed data.</p>
        {% elif slug == "roskilde" %}
          <p>It can be summarised that the construction sector plays an important economic role in the municipality. Various actors and industries are represented here, including some national and international companies. Many of the local companies have been in the municipality for well over 50 years and consistently brought business to and made available job positions in the region.</p>
          <p>It was seen that the area is also well suited for extraction of sand and gravel due to its geological history. Since not all of the materials are needed locally, a lot of those are exported.</p>
          <p>The current situation of the construction sector with regards to its circularity is hard to determine due to limitations in data availability and quality. The direct reuse of materials is quite low and while the amount of waste subjected to recycling is high, the recycling efficiency is not known, which would help in determining the amount of secondary materials available. It is, however, already commendable that there is a focus on waste sorting, though mostly in the interest of removing hazardous substances from the waste stream and recycling non-hazardous materials lower on the waste hierarchy than where they started.</p>
          <p>Overall, the municipality still has a long way to go to make the material flows of their construction sector more circular.</p>
        {% elif slug == "sevilla" %}
          <p>The main conclusions from the Sankey diagram analysis are:</p>

          <ul>
            <li>Virgin sand & gravel, Gypsum & Limestone and other stone material are easily available for concrete manufacturing and for construction of roads and buildings.</li>
            <li>There are significant manufacture of bricks, metals and timber products in Seville and considerable parts of these are exported outside of the area.</li>
            <li>However, other construction materials like aluminium, glass and insulation materials are imported to Seville.</li>
          </ul>

          <p>According to the calculation illustrated in the Sankey diagram, all the data related to local CDW collection and treatment is not currently available. The municipal waste management company Lipasam only collects CDW from small producers and citizens throughout the "Clean points". Even almost the total amount of CDW collected by Lipasam is recycled, it shows a limited impact on the whole picture of the city. The greatest potential for developing the circular economy of the construction sector in the city is to utilise materials collected as waste in upcycled higher-value products, which could replace virgin materials in the construction sector.</p>

          <p>There are still many assumptions behind the distribution of material flows visualised in the Sankey diagram. In the future, the information may be updated based on possible new and more detailed data.</p>
        {% endif %}
      </div>
      <div class="col-lg-3">
        <ul class="list-group list-group-flush indicators">
          <li class="list-group-item">
            <div><i class="fa fa-fw fa-home-lg-alt mr-2"></i>Domestic material consumption</div>
            <div><i class="fa fa-fw fa-home-lg-alt mr-2 text-transparent"></i>{{ construction_domestic_material_consumption|intcomma }} tonnes/year</div>
          </li>
          <li class="list-group-item">
            <div><i class="fa fa-fw fa-recycle mr-2"></i>End of Life recycling rate</div>
            <div><i class="fa fa-fw fa-recycle mr-2 text-transparent"></i>{{ construction_eol_recycling_rate|intcomma }}%</div>
          </li>
          <li class="list-group-item">
            <div><i class="fa fa-fw fa-trash mr-2"></i>Amount of sector waste</div>
            <div><i class="fa fa-fw fa-trash mr-2 text-transparent"></i>{{ construction_sector_waste_amount|intcomma }} tonnes/year</div>
          </li>
        </ul>
      </div>
    </div>
  </section>
{% endif %}

{% if biomass %}
  <section>
    <h2>Biomass sector</h2>
    <div class="row">
      <div class="col-lg-9">
        <div class="border bg-white mb-4">
          {{ biomass_sankey|safe }}
        </div>

        {% if slug == "apeldoorn" %}
          <p>There is a large opportunity to make some flows more circular. These numbers indicate that there is willingness for circularity in the city. With the project CityLoops, Apeldoorn hopes to get more control of these bio-waste flows. Apeldoorn needs to invest more time into collecting the different flows of biomaterials in order to get better insights for reuse and recycling.</p>
        {% elif slug == "mikkeli" %}
          <p>There are many circular flows in the city but some of the flows are quite small in mass. This indicates that there is willingness for circularity in the city but perhaps this is still quite new and in progress. All the different flows of biomaterial need to be better collected for reuse and recycling.</p>
        {% elif slug == "porto" %}
          <p>The Sankey diagram of the City of Porto shows us that almost all the materials of the biomass sector comes from import. This means that, to decrease the import of materials and to avoid bio-waste production, it should be implemented several measures to promote more circular flows in the city as well to upscale the ongoing circular projects. For instance, the ones related with separate collection of bio-waste (associated with the production and use of high-quality compost), local composting treatment (like home and community composting), food waste reduction initiatives (Embrulha), food donation networks, local/regional sustainable food production and sustainable food procurement.</p>
          <p>The current circular initiatives in the biomass sector have currently a small impact in the circularity in the City of Porto, despite all the efforts already done by public and private entities. But we need to be aware that some of these initiatives are very recent, like the new municipal separate collection of bio-waste or the promotion and implementation of local community composting schemes and even food waste prevention programs.</p>
          <p>The food donation projects, linking sectors like retail and restaurant sectors with institutions from the social sector helping families with low-income or in a situation of social exclusion, as well some projects promoting food waste prevention coordinated by LIPOR ("the right portion" and "wrap it up") or other entities (DariAcordar Association -- Zero Desperdício Program; or Refood4Good Association), needs to be upscaled to assure bigger impact than it happens today.</p>
          <p>But, considering the current situation, it won't be easy to promote a full circular biomass sector in the City of Porto because most of the materials included will continue to be imported since it won't be possible to produce most of them locally, inside the city boundaries."</p>
        {% elif slug == "sevilla" %}
          <p>The Sankey diagram of the City of Porto shows us that almost all the materials of the biomass sector comes from import. This means that, to decrease the import of materials and to avoid bio-waste production, it should be implemented several measures to promote more circular flows in the city as well to upscale the ongoing circular projects. For instance, the ones related with separate collection of bio-waste (associated with the production and use of high-quality compost), local composting treatment (like home and community composting), food waste reduction initiatives (Embrulha), food donation networks, local/regional sustainable food production and sustainable food procurement.</p>
          <p>The current circular initiatives in the biomass sector have currently a small impact in the circularity in the City of Porto, despite all the efforts already done by public and private entities. But we need to be aware that some of these initiatives are very recent, like the new municipal separate collection of bio-waste or the promotion and implementation of local community composting schemes and even food waste prevention programs.</p>
          <p>The food donation projects, linking sectors like retail and restaurant sectors with institutions from the social sector helping families with low-income or in a situation of social exclusion, as well some projects promoting food waste prevention coordinated by LIPOR ("the right portion" and "wrap it up") or other entities (DariAcordar Association -- Zero Desperdício Program; or Refood4Good Association), needs to be upscaled to assure bigger impact than it happens today.</p>
          <p>But, considering the current situation, it won't be easy to promote a full circular biomass sector in the City of Porto because most of the materials included will continue to be imported since it won't be possible to produce most of them locally, inside the city boundaries.</p>
        {% endif %}

      </div>
      <div class="col-lg-3">
        <ul class="list-group list-group-flush indicators">
          <li class="list-group-item">
            <div><i class="fa fa-fw fa-home-lg-alt mr-2"></i>Domestic material consumption</div>
            <div><i class="fa fa-fw fa-home-lg-alt mr-2 text-transparent"></i>{{ biomass_domestic_material_consumption|intcomma }} tonnes/year</div>
          </li>
          <li class="list-group-item">
            <div><i class="fa fa-fw fa-recycle mr-2"></i>End of Life recycling rate</div>
            <div><i class="fa fa-fw fa-recycle mr-2 text-transparent"></i>{{ biomass_eol_recycling_rate|intcomma }}%</div>
          </li>
          <li class="list-group-item">
            <div><i class="fa fa-fw fa-trash mr-2"></i>Amount of sector waste</div>
            <div><i class="fa fa-fw fa-trash mr-2 text-transparent"></i>{{ biomass_sector_waste_amount|intcomma }} tonnes/year</div>
          </li>
        </ul>
      </div>
    </div>
  </section>
{% endif %}

<section>
  <h3>Urban context</h3>
  <div class="row mb-3">
    <div class="col-3">
      <div class="context-map border" id="space-map"></div>
    </div>
    <div class="col-3">
      <div class="context-map border" id="nuts3-map"></div>
    </div>
    <div class="col-3">
      <div class="context-map border" id="nuts2-map"></div>
    </div>
    <div class="col-3">
      <div class="context-map border" id="country-map"></div>
    </div>
  </div>
  <div class="row mb-4">
    <div class="col-3">
      <strong>{{ city }}</strong>
      <div>
        <i class="fal fa-users fa-fw mr-2"></i> {{ space_population|intcomma }}
      </div>
      <div>
        <i class="fal fa-ruler-combined fa-fw mr-2"></i> {{ space_size|intcomma }} km<sup>2</sup>
      </div>
    </div>

    <div class="col-3">
      <strong>{{ nuts3 }}</strong>
      <div>
        <i class="fal fa-users fa-fw mr-2"></i> {{ nuts3_population|intcomma }}
      </div>
      <div>
        <i class="fal fa-ruler-combined fa-fw mr-2"></i> {{ nuts3_size|intcomma }} km<sup>2</sup>
      </div>
    </div>

    <div class="col-3">
      <strong>{{ nuts2 }}</strong>
      <div>
        <i class="fal fa-users fa-fw mr-2"></i> {{ nuts2_population|intcomma }}
      </div>
      <div>
        <i class="fal fa-ruler-combined fa-fw mr-2"></i> {{ nuts2_size|intcomma }} km<sup>2</sup>
      </div>
    </div>

    <div class="col-3">
      <strong>{{ country }}</strong>
      <div>
        <i class="fal fa-users fa-fw mr-2"></i> {{ country_population|intcomma }}
      </div>
      <div>
        <i class="fal fa-ruler-combined fa-fw mr-2"></i> {{ country_size|intcomma }} km<sup>2</sup>
      </div>
    </div>
  </div>
</section>

<section>
  <div class="row">
    <div class="col-lg-8">
      <div class="border bg-white p-3">
        <p>Do you want to learn more about the methods, reports or are keen to carry out an urban or sector-wide circularity assesssment for your or a different city and build your own Sankey diagram? Then check out the resources from Metabolism of Cities:</p>

        <ul>
          <li><a href="https://cityloops.metabolismofcities.org/library/1010979/">Urban Circularity Assessment - Method</a></li>
          <li><a href="https://cityloops.metabolismofcities.org/handbook/UCA-Handbook/">Urban Circularity Assessment - Handbook</a></li>
          <li><a href="https://cityloops.metabolismofcities.org/reports/">Exisiting urban circularity assessment reports</a> - bottom of the page</li>
          <br>
          <li><a href="https://cityloops.metabolismofcities.org/library/583948/">Sector-wide Circularity Assessment - Method</a></li>
          <li><a href="https://cityloops.metabolismofcities.org/handbook/SCA-Handbook/">Sector-wide Circularity Assessment - Handbook</a></li>
          <li><a href="https://cityloops.metabolismofcities.org/reports/">Exisiting sector-wide circularity assessment reports</a> - middle of the page</li>
        </ul>
      </div>
    </div>
    <div class="col-lg-4">
      <a class="btn btn-primary btn-block" href="{% url 'cityloops:dashboard' slug %}">{{ city }} Data Hub</a>
      {% if uca %}
        <a class="btn btn-primary btn-block" href="{% url 'cityloops:uca_report' slug %}">Urban Circularity Assessment online report</a>
      {% endif %}
      {% if construction %}
        <a class="btn btn-primary btn-block" href="{% url 'cityloops:sca_report' slug 'construction' %}">Construction sector circularity report</a>
      {% endif %}
      {% if biomass %}
        <a class="btn btn-primary btn-block" href="{% url 'cityloops:sca_report' slug 'biomass' %}">Biomass sector circularity report</a>
      {% endif %}

      <p class="mt-3">Do you have any questions about the dashboard, data or want to get in touch with a contact person from the city? Please email Metabolism of Cities at <a href="mailto:info@metabolismofcities.org">info@metabolismofcities.org</a> for assistence.</p>
    </div>
  </div>
</section>


{% endblock %}

{% block footer %}
  <script src="{% static 'js/uca-report.js' %}"></script>
  {% if uca %}
    <script type="text/javascript">
      $("#sankey-toggle").change(function(){
        let selected_year = $("#sankey-toggle").val()
        $("[data-year]").hide()
        $("[data-year=" + selected_year + "]").show()
        window.dispatchEvent(new Event('resize'));
      })
    </script>
  {% endif %}

  {% if slug == "apeldoorn" %}
    <script type="text/javascript">
      window.PLOTLYENV=window.PLOTLYENV || {}; if (document.getElementById("uca-sankey-1")) { Plotly.newPlot("uca-sankey-1", [{"link":{"color":["rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)"],"source":[0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,2,3,3,3,3,4,4,4,4,3,3,3,3,5,5,5,5,5,5,5,5,6,6,6,6,7,7,7,7,7,7,7,7,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],"target":[8,8,8,8,8,8,8,8,2,2,2,2,2,2,2,2,3,3,3,3,5,5,5,5,9,9,9,9,7,7,7,7,4,4,4,4,4,4,4,4,6,6,6,6,4,4,4,4,2,2,2,2,8,8,8,8,10,10,10,10,11,11,11,11,12,12,12,12,13,13,13,13],"value":["893.13","115.21","236.75","130.47","174.14","0.00","0.00","0.00","286.39","21.00","189.23","130.47","55.84","0.00","0.00","0.00","272.86","0.00","0.00","125.52","77.44","21.00","190.81","5.23","165.12","0.00","0.00","125.52","33.24","0.00","3.54","4.90","107.74","0.00","0.00","0.00","38.87","4.31","8.96","2.74","38.57","16.69","181.85","2.49","274.55","-2.28","-1.13","3.11","8.07","0.00","1.57","0.28","25.17","0.00","1.97","4.62","371.06","0.00","0.00","0.00","0.02","0.00","0.01","0.01","16.84","2.02","4.27","0.93","0.00","0.00","0.00","0.00"],"hoverlabel":{"bgcolor":"rgba(255,255,255,0)"}},"node":{"color":["rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)"],"label":["Imports","Domestic Extraction","Processed materials","Energetic use","EoL Waste","Material use","In-use stocks","Recovery","Exports","DPO emissions","Landfill","Incineration","Incineration with energy recovery","Backfilling"],"line":{"width":0},"thickness":10,"hoverlabel":{"bgcolor":"rgba(255,255,255,0)"},"pad":15,"x":[0,0.1,0.3,0.5,0.7,0.5,0.6,0.8,1,0.7,0.9,0.9,0.9,0.9],"y":[0,0.8,0.5,0.3,0.7,0.7,0.9,0.8,0.01,0.3,0.7,0.6,0.5,0.4]},"type":"sankey","arrangement":"freeform"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"font":{"size":10,"color":"black","family":"Lato"},"hovermode":"x","title":{"text":""}},                        {"responsive": true}                    )                };
      window.PLOTLYENV=window.PLOTLYENV || {}; if (document.getElementById("uca-sankey-2")) { Plotly.newPlot("uca-sankey-2", [{"link":{"color":["rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)"],"source":[0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,2,3,3,3,3,4,4,4,4,3,3,3,3,5,5,5,5,5,5,5,5,6,6,6,6,7,7,7,7,7,7,7,7,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],"target":[8,8,8,8,8,8,8,8,2,2,2,2,2,2,2,2,3,3,3,3,5,5,5,5,9,9,9,9,7,7,7,7,4,4,4,4,4,4,4,4,6,6,6,6,4,4,4,4,2,2,2,2,8,8,8,8,10,10,10,10,11,11,11,11,12,12,12,12,13,13,13,13],"value":["1979.61","83.15","214.32","121.73","216.77","0.00","0.00","0.00","294.61","6.98","202.75","121.73","32.26","0.00","0.00","0.00","258.06","0.00","0.01","116.91","73.24","6.98","6.02","4.87","151.04","0.00","0.00","116.91","34.18","0.00","3.74","2.66","107.02","0.00","0.00","0.00","36.76","1.43","2.85","2.55","36.48","5.55","3.17","2.32","269.07","0.88","3.98","1.17","4.43","0.00","1.82","0.05","29.75","0.00","1.92","2.61","36.17","0.00","0.00","0.00","0.01","0.00","0.01","0.01","18.49","2.30","3.08","1.05","0.00","0.00","0.00","0.00"],"hoverlabel":{"bgcolor":"rgba(255,255,255,0)"}},"node":{"color":["rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)"],"label":["Imports","Domestic Extraction","Processed materials","Energetic use","EoL Waste","Material use","In-use stocks","Recovery","Exports","DPO emissions","Landfill","Incineration","Incineration with energy recovery","Backfilling"],"line":{"width":0},"thickness":10,"hoverlabel":{"bgcolor":"rgba(255,255,255,0)"},"pad":15,"x":[0,0.1,0.3,0.5,0.7,0.5,0.6,0.8,1,0.7,0.9,0.9,0.9,0.9],"y":[0,0.8,0.5,0.3,0.7,0.7,0.9,0.8,0.01,0.3,0.7,0.6,0.5,0.4]},"type":"sankey","arrangement":"freeform"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"font":{"size":10,"color":"black","family":"Lato"},"hovermode":"x","title":{"text":""}},                        {"responsive": true}                    )                };
    </script>
  {% elif slug == "bodo" %}
    <script type="text/javascript">
      window.PLOTLYENV=window.PLOTLYENV || {}; if (document.getElementById("uca-sankey-1")) {Plotly.newPlot("uca-sankey-1", [{"link":{"color":["rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)"],"label":["Biomass","Metal ores and metals","Non-metallic minerals","Fossil energy carriers","Biomass","Metal ores and metals","Non-metallic minerals","Fossil energy carriers","Biomass","Metal ores and metals","Non-metallic minerals","Fossil energy carriers","Biomass","Metal ores and metals","Non-metallic minerals","Fossil energy carriers","Biomass","Metal ores and metals","Non-metallic minerals","Fossil energy carriers","Biomass","Metal ores and metals","Non-metallic minerals","Fossil energy carriers","Biomass","Metal ores and metals","Non-metallic minerals","Fossil energy carriers","Biomass","Metal ores and metals","Non-metallic minerals","Fossil energy carriers","Biomass","Metal ores and metals","Non-metallic minerals"],"source":[0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,2,3,3,3,3,4,4,4,4,3,3,3],"target":[5,5,5,5,5,5,5,5,2,2,2,2,2,2,2,2,3,3,3,3,6,6,6,6,7,7,7,7,8,8,8,8,4,4,4],"value":["2.41","4.26","107.71","85.45","6.38","0.00","1.74","0.00","16.70","6.96","182.72","85.45","44.15","0.00","2.96","0.00","58.17","0.00","0.00","85.48","16.51","7.89","187.49","3.56","20.24","0.00","0.00","85.07","15.84","1.50","2.87","4.64","37.93","0.00","0.00"]},"node":{"color":["rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)"],"label":["Imports","Domestic Extraction","Processed materials","Energetic use","EoL Waste","Exports","Material use","DPO emissions","Recovery"],"line":{"width":0},"thickness":10,"pad":15,"x":[0,0.1,0.3,0.5,0.7,0.5,0.6,0.8,1,0.7,0.9,0.9,0.9,0.9],"y":[0,0.8,0.5,0.3,0.7,0.7,0.9,0.8,0.01,0.3,0.7,0.6,0.5,0.4]},"type":"sankey","arrangement":"freeform"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"font":{"size":10,"color":"black","family":"Lato"},"hovermode":"x","title":{"text":""}}, {"responsive": true})};
      window.PLOTLYENV=window.PLOTLYENV || {}; if (document.getElementById("uca-sankey-2")) {Plotly.newPlot("uca-sankey-2", [{"link":{"color":["rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)"],"label":["Biomass","Metal ores and metals","Non-metallic minerals","Fossil energy carriers","Biomass","Metal ores and metals","Non-metallic minerals","Fossil energy carriers","Biomass","Metal ores and metals","Non-metallic minerals","Fossil energy carriers","Biomass","Metal ores and metals","Non-metallic minerals","Fossil energy carriers","Biomass","Metal ores and metals","Non-metallic minerals","Fossil energy carriers","Biomass","Metal ores and metals","Non-metallic minerals","Fossil energy carriers","Biomass","Metal ores and metals","Non-metallic minerals","Fossil energy carriers","Biomass","Metal ores and metals","Non-metallic minerals","Fossil energy carriers","Biomass","Metal ores and metals","Non-metallic minerals"],"source":[0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,2,3,3,3,3,4,4,4,4,3,3,3],"target":[5,5,5,5,5,5,5,5,2,2,2,2,2,2,2,2,3,3,3,3,6,6,6,6,7,7,7,7,8,8,8,8,4,4,4],"value":["12.53","4.62","106.98","84.90","38.17","0.00","1.74","0.00","9.64","6.31","182.26","84.90","29.37","0.00","2.96","0.00","33.50","0.00","0.00","83.65","9.51","6.97","186.10","3.49","12.53","0.00","0.00","83.45","9.20","1.15","1.39","2.94","20.98","0.00","0.00"]},"node":{"color":["rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)"],"label":["Imports","Domestic Extraction","Processed materials","Energetic use","EoL Waste","Exports","Material use","DPO emissions","Recovery"],"line":{"width":0},"thickness":10,"pad":15,"x":[0,0.1,0.3,0.5,0.7,0.5,0.6,0.8,1,0.7,0.9,0.9,0.9,0.9],"y":[0,0.8,0.5,0.3,0.7,0.7,0.9,0.8,0.01,0.3,0.7,0.6,0.5,0.4]},"type":"sankey","arrangement":"freeform"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"font":{"size":10,"color":"black","family":"Lato"},"hovermode":"x","title":{"text":""}}, {"responsive": true})};
    </script>
  {% elif slug == "mikkeli" %}
    <script type="text/javascript">
      window.PLOTLYENV=window.PLOTLYENV || {}; if (document.getElementById("uca-sankey-1")) {Plotly.newPlot("uca-sankey-1", [{"link":{"color":["rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)"],"source":[0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,2,3,3,3,3,4,4,4,4,3,3,3],"target":[5,5,5,5,5,5,5,5,2,2,2,2,2,2,2,2,3,3,3,3,6,6,6,6,7,7,7,7,8,8,8,8,4,4,4],"value":["0.25","0.00","0.19","172.96","15.02","0.00","5.45","0.11","22.47","33.35","9.14","172.96","1365.49","0.00","256.52","43.89","1084.74","0.00","0.00","208.32","307.85","34.89","265.82","8.68","926.19","0.00","0.00","202.03","4.68","1.54","0.16","0.16","158.55","0.00","0.00"],"hoverlabel":{"bgcolor":"rgba(255,255,255,0)"}},"node":{"color":["rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)"],"label":["Imports","Domestic Extraction","Processed materials","Energetic use","EoL Waste","Exports","Material use","DPO emissions","Recovery"],"line":{"width":0},"thickness":10,"hoverlabel":{"bgcolor":"rgba(255,255,255,0)"},"pad":15,"x":[0,0.1,0.3,0.5,0.7,0.5,0.6,0.8,1,0.7,0.9,0.9,0.9,0.9],"y":[0,0.8,0.5,0.3,0.7,0.7,0.9,0.8,0.01,0.3,0.7,0.6,0.5,0.4]},"type":"sankey","arrangement":"freeform"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"font":{"size":10,"color":"black","family":"Lato"},"hovermode":"x","title":{"text":""}}, {"responsive": true})};
      window.PLOTLYENV=window.PLOTLYENV || {}; if (document.getElementById("uca-sankey-2")) {Plotly.newPlot("uca-sankey-2", [{"link":{"color":["rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)"],"source":[0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,2,3,3,3,3,4,4,4,4,3,3,3],"target":[5,5,5,5,5,5,5,5,2,2,2,2,2,2,2,2,3,3,3,3,6,6,6,6,7,7,7,7,8,8,8,8,4,4,4],"value":["0.16","0.00","0.26","164.85","14.46","0.00","7.55","0.18","16.24","37.62","7.94","164.85","1429.23","0.00","226.48","88.88","1133.29","0.00","0.00","243.61","321.63","39.03","235.16","10.15","960.97","0.00","0.00","235.30","14.41","1.40","0.78","0.03","172.32","0.00","0.00"],"hoverlabel":{"bgcolor":"rgba(255,255,255,0)"}},"node":{"color":["rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)"],"label":["Imports","Domestic Extraction","Processed materials","Energetic use","EoL Waste","Exports","Material use","DPO emissions","Recovery"],"line":{"width":0},"thickness":10,"hoverlabel":{"bgcolor":"rgba(255,255,255,0)"},"pad":15,"x":[0,0.1,0.3,0.5,0.7,0.5,0.6,0.8,1,0.7,0.9,0.9,0.9,0.9],"y":[0,0.8,0.5,0.3,0.7,0.7,0.9,0.8,0.01,0.3,0.7,0.6,0.5,0.4]},"type":"sankey","arrangement":"freeform"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"font":{"size":10,"color":"black","family":"Lato"},"hovermode":"x","title":{"text":""}}, {"responsive": true})};
    </script>
  {% elif slug == "porto" %}
    <script type="text/javascript">
      window.PLOTLYENV=window.PLOTLYENV || {}; if (document.getElementById("uca-sankey-1")) {Plotly.newPlot("uca-sankey-1", [{"link":{"color":["rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)"],"source":[0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,2,3,3,3,3,4,4,4,4,3,3,3],"target":[5,5,5,5,5,5,5,5,2,2,2,2,2,2,2,2,3,3,3,3,6,6,6,6,7,7,7,7,8,8,8,8,4,4,4],"value":["366.11","21.71","47.35","147.97","0.08","0.00","0.00","0.00","690.93","57.75","-16.27","147.97","0.16","0.00","0.00","0.00","558.30","0.00","0.00","146.01","158.44","60.34","-19.16","6.08","390.96","0.00","0.00","146.01","39.25","3.57","5.51","5.53","167.34","0.00","0.00"]},"node":{"color":["rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)"],"label":["Imports","Domestic Extraction","Processed materials","Energetic use","EoL Waste","Exports","Material use","DPO emissions","Recovery"],"line":{"width":0},"thickness":10,"pad":15,"x":[0,0.1,0.3,0.5,0.7,0.5,0.6,0.8,1,0.7,0.9,0.9,0.9,0.9],"y":[0,0.8,0.5,0.3,0.7,0.7,0.9,0.8,0.01,0.3,0.7,0.6,0.5,0.4]},"type":"sankey","arrangement":"freeform"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"font":{"size":10,"color":"black","family":"Lato"},"hovermode":"x","title":{"text":"Porto Sankey Diagram"}},{"responsive": true})};
      window.PLOTLYENV=window.PLOTLYENV || {}; if (document.getElementById("uca-sankey-2")) {Plotly.newPlot("uca-sankey-2", [{"link":{"color":["rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)"],"source":[0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,2,3,3,3,3,4,4,4,4,3,3,3],"target":[5,5,5,5,5,5,5,5,2,2,2,2,2,2,2,2,3,3,3,3,6,6,6,6,7,7,7,7,8,8,8,8,4,4,4],"value":["402.72","37.96","41.21","151.11","0.26","0.00","0.00","0.00","903.51","40.86","-9.15","151.11","0.57","0.00","0.00","0.00","711.81","0.00","0.00","145.25","202.01","42.08","-10.50","6.05","521.08","0.00","0.00","145.25","14.07","2.36","4.73","0.22","190.73","0.00","0.00"]},"node":{"color":["rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)"],"label":["Imports","Domestic Extraction","Processed materials","Energetic use","EoL Waste","Exports","Material use","DPO emissions","Recovery"],"line":{"width":0},"thickness":10,"pad":15,"x":[0,0.1,0.3,0.5,0.7,0.5,0.6,0.8,1,0.7,0.9,0.9,0.9,0.9],"y":[0,0.8,0.5,0.3,0.7,0.7,0.9,0.8,0.01,0.3,0.7,0.6,0.5,0.4]},"type":"sankey","arrangement":"freeform"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"font":{"size":10,"color":"black","family":"Lato"},"hovermode":"x","title":{"text":"Porto Sankey Diagram"}}, {"responsive": true})};
    </script>
  {% elif slug == "sevilla" %}
    <script type="text/javascript">
      window.PLOTLYENV=window.PLOTLYENV || {}; if (document.getElementById("uca-sankey-1")) {Plotly.newPlot("uca-sankey-1", [{"link":{"color":["rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)"],"label":["Biomass","Metal ores and metals","Non-metallic minerals","Fossil energy carriers","Biomass","Metal ores and metals","Non-metallic minerals","Fossil energy carriers","Biomass","Metal ores and metals","Non-metallic minerals","Fossil energy carriers","Biomass","Metal ores and metals","Non-metallic minerals","Fossil energy carriers","Biomass","Metal ores and metals","Non-metallic minerals","Fossil energy carriers","Biomass","Metal ores and metals","Non-metallic minerals","Fossil energy carriers","Biomass","Metal ores and metals","Non-metallic minerals","Fossil energy carriers","Biomass","Metal ores and metals","Non-metallic minerals","Fossil energy carriers","Biomass","Metal ores and metals","Non-metallic minerals"],"source":[0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,2,3,3,3,3,4,4,4,4,3,3,3],"target":[5,5,5,5,5,5,5,5,2,2,2,2,2,2,2,2,3,3,3,3,6,6,6,6,7,7,7,7,8,8,8,8,4,4,4],"value":["596.96","347.66","143.32","940.06","40.68","0.00","395.69","0.00","373.89","147.28","52.58","940.06","25.48","0.00","145.16","0.00","338.97","0.00","0.00","909.82","96.20","151.47","212.49","37.91","130.03","0.00","0.00","909.82","92.97","14.10","55.00","12.10","208.94","0.00","0.00"]},"node":{"color":["rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)"],"label":["Imports","Domestic Extraction","Processed materials","Energetic use","EoL Waste","Exports","Material use","DPO emissions","Recovery"],"line":{"width":0},"thickness":10,"pad":15,"x":[0,0.1,0.3,0.5,0.7,0.5,0.6,0.8,1,0.7,0.9,0.9,0.9,0.9],"y":[0,0.8,0.5,0.3,0.7,0.7,0.9,0.8,0.01,0.3,0.7,0.6,0.5,0.4]},"type":"sankey","arrangement":"freeform"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"font":{"size":10,"color":"black","family":"Lato"},"hovermode":"x","title":{"text":""}},{"responsive": true})};
      window.PLOTLYENV=window.PLOTLYENV || {}; if (document.getElementById("uca-sankey-2")) {Plotly.newPlot("uca-sankey-2", [{"link":{"color":["rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)","rgba(142, 124, 195, 0.5)","rgba(56, 118, 30, 0.5)","rgba(241, 194, 51, 0.5)","rgba(224, 102, 102, 0.5)"],"label":["Biomass","Metal ores and metals","Non-metallic minerals","Fossil energy carriers","Biomass","Metal ores and metals","Non-metallic minerals","Fossil energy carriers","Biomass","Metal ores and metals","Non-metallic minerals","Fossil energy carriers","Biomass","Metal ores and metals","Non-metallic minerals","Fossil energy carriers","Biomass","Metal ores and metals","Non-metallic minerals","Fossil energy carriers","Biomass","Metal ores and metals","Non-metallic minerals","Fossil energy carriers","Biomass","Metal ores and metals","Non-metallic minerals","Fossil energy carriers","Biomass","Metal ores and metals","Non-metallic minerals","Fossil energy carriers","Biomass","Metal ores and metals","Non-metallic minerals"],"source":[0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,2,2,2,2,2,2,2,2,3,3,3,3,4,4,4,4,3,3,3],"target":[5,5,5,5,5,5,5,5,2,2,2,2,2,2,2,2,3,3,3,3,6,6,6,6,7,7,7,7,8,8,8,8,4,4,4],"value":["446.18","628.08","53.74","1669.99","26.09","0.00","403.13","0.00","161.23","188.24","90.46","1669.99","9.43","0.00","678.57","0.00","143.10","0.00","0.00","1609.32","40.61","189.90","795.31","67.06","-59.85","0.00","0.00","1609.32","49.15","7.17","41.90","10.43","202.94","0.00","0.00"]},"node":{"color":["rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)","rgba(239, 239, 239, 0.5)"],"label":["Imports","Domestic Extraction","Processed materials","Energetic use","EoL Waste","Exports","Material use","DPO emissions","Recovery"],"line":{"width":0},"thickness":10,"pad":15,"x":[0,0.1,0.3,0.5,0.7,0.5,0.6,0.8,1,0.7,0.9,0.9,0.9,0.9],"y":[0,0.8,0.5,0.3,0.7,0.7,0.9,0.8,0.01,0.3,0.7,0.6,0.5,0.4]},"type":"sankey","arrangement":"freeform"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"font":{"size":10,"color":"black","family":"Lato"},"hovermode":"x","title":{"text":""}}, {"responsive": true})};
    </script>
  {% endif %}

  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
     integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
     crossorigin=""></script>

  <script>
    // space
    var space_map = L.map("space-map", {
      attributionControl: false,
      zoomControl: false,
    });

    var space_map_geojson = {{ city.geometry.geojson|safe }};
    var space_map_geojsonlayer = L.geoJSON(space_map_geojson).addTo(space_map);

    L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWV0YWJvbGlzbW9mY2l0aWVzIiwiYSI6ImNqcHA5YXh6aTAxcmY0Mm8yMGF3MGZjdGcifQ.lVZaiSy76Om31uXLP3hw-Q", {
      attribution: "Map data &copy; <a href='http://openstreetmap.org'>OpenStreetMap</a> contributors, " +
        "<a href='http://creativecommons.org/licenses/by-sa/2.0/'>CC-BY-SA</a>, " +
        "Imagery © <a href='http://mapbox.com'>Mapbox</a>",
      maxZoom: 18,
      id: "mapbox/light-v10",
      tileSize: 512,
      zoomOffset: -1,
      accessToken: "pk.eyJ1IjoibWV0YWJvbGlzbW9mY2l0aWVzIiwiYSI6ImNqcHA5YXh6aTAxcmY0Mm8yMGF3MGZjdGcifQ.lVZaiSy76Om31uXLP3hw-Q"
    }).addTo(space_map);

    space_map.scrollWheelZoom.disable();
    space_map.fitBounds(space_map_geojsonlayer.getBounds());

    // NUTS3
    var nuts_3_map = L.map("nuts3-map", {
      attributionControl: false,
      zoomControl: false,
    });
    var nuts_3_geojson = {{ nuts3.geometry.geojson|safe }};
    var nuts_3_geojsonlayer = L.geoJSON(nuts_3_geojson).addTo(nuts_3_map);

    L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWV0YWJvbGlzbW9mY2l0aWVzIiwiYSI6ImNqcHA5YXh6aTAxcmY0Mm8yMGF3MGZjdGcifQ.lVZaiSy76Om31uXLP3hw-Q", {
      attribution: "Map data &copy; <a href='http://openstreetmap.org'>OpenStreetMap</a> contributors, " +
        "<a href='http://creativecommons.org/licenses/by-sa/2.0/'>CC-BY-SA</a>, " +
        "Imagery © <a href='http://mapbox.com'>Mapbox</a>",
      id: "mapbox/light-v10",
      maxZoom: 18,
      tileSize: 512,
      zoomOffset: -1,
      accessToken: "pk.eyJ1IjoibWV0YWJvbGlzbW9mY2l0aWVzIiwiYSI6ImNqcHA5YXh6aTAxcmY0Mm8yMGF3MGZjdGcifQ.lVZaiSy76Om31uXLP3hw-Q"
    }).addTo(nuts_3_map);

    nuts_3_map.scrollWheelZoom.disable();
    nuts_3_map.fitBounds(nuts_3_geojsonlayer.getBounds());

    // NUTS2
    var nuts_2_map = L.map("nuts2-map", {
      attributionControl: false,
      zoomControl: false,
    });
    var nuts_2_geojson = {{ nuts2.geometry.geojson|safe }};
    var nuts_2_geojsonlayer = L.geoJSON(nuts_2_geojson).addTo(nuts_2_map);

    L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWV0YWJvbGlzbW9mY2l0aWVzIiwiYSI6ImNqcHA5YXh6aTAxcmY0Mm8yMGF3MGZjdGcifQ.lVZaiSy76Om31uXLP3hw-Q", {
      attribution: "Map data &copy; <a href='http://openstreetmap.org'>OpenStreetMap</a> contributors, " +
        "<a href='http://creativecommons.org/licenses/by-sa/2.0/'>CC-BY-SA</a>, " +
        "Imagery © <a href='http://mapbox.com'>Mapbox</a>",
      id: "mapbox/light-v10",
      maxZoom: 18,
      tileSize: 512,
      zoomOffset: -1,
      accessToken: "pk.eyJ1IjoibWV0YWJvbGlzbW9mY2l0aWVzIiwiYSI6ImNqcHA5YXh6aTAxcmY0Mm8yMGF3MGZjdGcifQ.lVZaiSy76Om31uXLP3hw-Q"
    }).addTo(nuts_2_map);

    nuts_2_map.scrollWheelZoom.disable();
    nuts_2_map.fitBounds(nuts_2_geojsonlayer.getBounds());

    // COUNTRY
    var country_map = L.map("country-map", {
      attributionControl: false,
      zoomControl: false,
    });
    var country_geojson = {{ country.geometry.geojson|safe }};
    var country_geojsonlayer = L.geoJSON(country_geojson).addTo(country_map);

    L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWV0YWJvbGlzbW9mY2l0aWVzIiwiYSI6ImNqcHA5YXh6aTAxcmY0Mm8yMGF3MGZjdGcifQ.lVZaiSy76Om31uXLP3hw-Q", {
      attribution: "Map data &copy; <a href='http://openstreetmap.org'>OpenStreetMap</a> contributors, " +
        "<a href='http://creativecommons.org/licenses/by-sa/2.0/'>CC-BY-SA</a>, " +
        "Imagery © <a href='http://mapbox.com'>Mapbox</a>",
      id: "mapbox/light-v10",
      maxZoom: 18,
      tileSize: 512,
      zoomOffset: -1,
      accessToken: "pk.eyJ1IjoibWV0YWJvbGlzbW9mY2l0aWVzIiwiYSI6ImNqcHA5YXh6aTAxcmY0Mm8yMGF3MGZjdGcifQ.lVZaiSy76Om31uXLP3hw-Q"
    }).addTo(country_map);

    country_map.scrollWheelZoom.disable();

    {% if bounding_box %}
      country_map.fitBounds({{ bounding_box|safe }})
    {% else %}
      country_map.fitBounds(country_geojsonlayer.getBounds());
    {% endif %}

    $('[data-toggle="popover"]').popover()
  </script>
{% endblock %}