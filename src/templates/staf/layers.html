{% extends "_base.html" %}
{% load moc_extras %}

{% block content %}
<section>
    <h2>Data inventory: layer overview</h2>
    <div class="row">
      <div class="col-4">
        <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
          {% for each in layers %}
            <a class="nav-link {% if each.id == 846 %}active{% endif %}" id="v-pills-{{ each.id }}-tab" data-toggle="pill" href="#v-pills-{{ each.id }}" role="tab" aria-controls="v-pills-{{ each.id }}" aria-selected="true">
              <i class="fa fa-{{ each.icon }} fa-fw"></i> {{ each }}
            </a>
          {% endfor %}

        </div>
      </div>
      <div class="col-8">
        <div class="tab-content" id="v-pills-tabContent">
          {% for each in layers %}

            <div class="tab-pane fade {% if each.id == 846 %}show active{% endif %}" id="v-pills-{{ each.id }}" role="tabpanel" aria-labelledby="v-pills-{{ each.id }}-tab">

              <ul class="list-group mb-4">
                {% for tag in each.children.all %}
                  <li class="list-group-item">
                    <a href="{{ tag.id }}/">
                      {{ tag }}
                      {% if counter|get_item:tag.id > 0 %}
                        <span class="badge badge-success float-right">
                          {{ counter|get_item:tag.id }}
                        </span>
                      {% else %}
                        <span class="badge badge-dark float-right">
                          0
                        </span>
                      {% endif %}
                    </a>
                  </li>
                {% endfor %}
              </ul>

            </div>

          {% endfor %}

        </div>
      </div>
    </div>
  </section>
{% endblock %}
